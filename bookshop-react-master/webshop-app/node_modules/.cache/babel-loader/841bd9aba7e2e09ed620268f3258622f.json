{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\laiyu\\\\Documents\\\\bookshop\\\\bookshop-react-master\\\\webshop-app\\\\src\\\\components\\\\EditProfileModal.js\",\n    _s = $RefreshSig$();\n\nimport { Form, Modal, Row, Col } from \"react-bootstrap\";\nimport { Button } from \"react-bootstrap\";\nimport { useState } from \"react\";\nimport \"../css/Modal.css\";\nimport { BASE_URL } from \"../Constants\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction EditProfileModal(props) {\n  _s();\n\n  const [validated, setValidated] = useState(false);\n  const [profileToEdit, setProfileToEdit] = useState({\n    name: props.name,\n    username: props.username,\n    email: props.email,\n    password: props.password,\n    role: props.role,\n    street: props.street,\n    suite: props.suite,\n    city: props.city,\n    zipcode: props.zipcode,\n    phone: props.phone\n  });\n\n  const handleChangeEditProfile = e => {\n    const target = e.target;\n    const value = target.value;\n    const name = target.name;\n    setProfileToEdit({ ...profileToEdit,\n      [name]: value\n    });\n  };\n\n  const editProfile = event => {\n    const form = event.currentTarget;\n    event.preventDefault();\n\n    if (form.checkValidity()) {\n      fetch(`${BASE_URL}/users/${props.id}`, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          name: profileToEdit.name,\n          username: profileToEdit.username,\n          email: profileToEdit.email,\n          password: profileToEdit.password,\n          role: profileToEdit.role,\n          address: {\n            street: profileToEdit.street,\n            suite: profileToEdit.suite,\n            city: profileToEdit.city,\n            zipcode: profileToEdit.zipcode\n          },\n          phone: profileToEdit.phone\n        })\n      }).then(data => {\n        if (data.status === 201) {\n          console.log(\"profile edited\");\n          props.getProfile();\n          props.onHide();\n        } else {\n          console.log(\"error\");\n        }\n      });\n    }\n\n    setValidated(true);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Modal, { ...props,\n    size: \"lg\",\n    \"aria-labelledby\": \"contained-modal-title-vcenter\",\n    centered: true,\n    children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n      closeButton: true,\n      children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n        id: \"contained-modal-title-vcenter\",\n        children: \"Edit Profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"edit-user-container\",\n        className: \"edit-user d-flex justify-content-center flex-column align-items-center text-left\",\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          onSubmit: e => editProfile(e),\n          className: \"edit-user-form\",\n          noValidate: true,\n          validated: validated,\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"mb-3 text-center\",\n            children: \"Address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            as: Row,\n            className: \"mb-3\",\n            controlId: \"validationCustom01\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              column: true,\n              sm: \"3\",\n              children: \"Street*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              sm: \"9\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"text\",\n                name: \"street\",\n                defaultValue: props.street,\n                onChange: handleChangeEditProfile,\n                placeholder: \"ex. : Kulas Light\",\n                \"aria-label\": \"ex. : Kulas Light\",\n                pattern: \"(^[A-Za-z]{2,30})([ ]{0,1})([A-Za-z]{2,30}[ ]{0,1}){0,3}\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n                type: \"invalid\",\n                children: \"Invalid street name.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            as: Row,\n            className: \"mb-3\",\n            controlId: \"validationCustom02\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              column: true,\n              sm: \"3\",\n              children: \"Suite*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              sm: \"9\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"text\",\n                name: \"suite\",\n                defaultValue: props.suite,\n                onChange: handleChangeEditProfile,\n                placeholder: \"ex. : Apt. 556\",\n                \"aria-label\": \"ex. : Apt. 556\",\n                pattern: \"^[.0-9a-zA-Z\\\\s,-]+$\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n                type: \"invalid\",\n                children: \"Invalid suite format.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            as: Row,\n            className: \"mb-3\",\n            controlId: \"validationCustom03\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              column: true,\n              sm: \"3\",\n              children: \"City*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              sm: \"9\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"text\",\n                name: \"city\",\n                defaultValue: props.city,\n                onChange: handleChangeEditProfile,\n                placeholder: \"ex. : Gwenborough\",\n                \"aria-label\": \"ex. : Gwenborough\",\n                pattern: \"(^[A-Za-z]{2,30})([ ]{0,1})([A-Za-z]{2,30})\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n                type: \"invalid\",\n                children: \"Invalid city name.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            as: Row,\n            className: \"mb-3\",\n            controlId: \"validationCustom04\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              column: true,\n              sm: \"3\",\n              children: \"Zip code*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              sm: \"9\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"text\",\n                name: \"zipcode\",\n                defaultValue: props.zipcode,\n                onChange: handleChangeEditProfile,\n                placeholder: \"ex. : 929987\",\n                \"aria-label\": \"ex. : 929987\",\n                pattern: \"^[0-9]{6}$\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n                type: \"invalid\",\n                children: \"Invalid zip code format.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"mb-3 text-center\",\n            children: \"Phone\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            as: Row,\n            className: \"mb-3\",\n            controlId: \"validationCustom05\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              column: true,\n              sm: \"3\",\n              children: \"Phone number*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              sm: \"9\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"text\",\n                name: \"phone\",\n                defaultValue: props.phone,\n                onChange: handleChangeEditProfile,\n                placeholder: \"ex. : 0712345678\",\n                \"aria-label\": \"ex. : 0712345678\",\n                pattern: \"^[+]*[(]{0,1}[0-9]{1,4}[)]{0,1}[-\\\\s\\\\./0-9]*$\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n                type: \"invalid\",\n                children: \"Invalid phone number format.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"add-new-buttons d-flex justify-content-between\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"danger\",\n          onClick: editProfile,\n          children: \"Save changes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: props.onHide,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n}\n\n_s(EditProfileModal, \"gs9LHlF12cHBf7nqvKc7aMPjqa8=\");\n\n_c = EditProfileModal;\nexport default EditProfileModal;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditProfileModal\");","map":{"version":3,"sources":["C:/Users/laiyu/Documents/bookshop/bookshop-react-master/webshop-app/src/components/EditProfileModal.js"],"names":["Form","Modal","Row","Col","Button","useState","BASE_URL","EditProfileModal","props","validated","setValidated","profileToEdit","setProfileToEdit","name","username","email","password","role","street","suite","city","zipcode","phone","handleChangeEditProfile","e","target","value","editProfile","event","form","currentTarget","preventDefault","checkValidity","fetch","id","method","headers","body","JSON","stringify","address","then","data","status","console","log","getProfile","onHide"],"mappings":"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","sourcesContent":["import { Form, Modal, Row, Col } from \"react-bootstrap\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { useState } from \"react\";\r\nimport \"../css/Modal.css\";\r\nimport { BASE_URL } from \"../Constants\";\r\n\r\nfunction EditProfileModal(props) {\r\n  const [validated, setValidated] = useState(false);\r\n  const [profileToEdit, setProfileToEdit] = useState({\r\n    name: props.name,\r\n    username: props.username,\r\n    email: props.email,\r\n    password: props.password,\r\n    role: props.role,\r\n    street: props.street,\r\n    suite: props.suite,\r\n    city: props.city,\r\n    zipcode: props.zipcode,\r\n    phone: props.phone,\r\n  });\r\n\r\n  const handleChangeEditProfile = (e) => {\r\n    const target = e.target;\r\n    const value = target.value;\r\n    const name = target.name;\r\n    setProfileToEdit({\r\n      ...profileToEdit,\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  const editProfile = (event) => {\r\n    const form = event.currentTarget;\r\n    event.preventDefault();\r\n    if (form.checkValidity()) {\r\n      fetch(`${BASE_URL}/users/${props.id}`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          name: profileToEdit.name,\r\n          username: profileToEdit.username,\r\n          email: profileToEdit.email,\r\n          password: profileToEdit.password,\r\n          role: profileToEdit.role,\r\n          address: {\r\n            street: profileToEdit.street,\r\n            suite: profileToEdit.suite,\r\n            city: profileToEdit.city,\r\n            zipcode: profileToEdit.zipcode,\r\n          },\r\n          phone: profileToEdit.phone,\r\n        }),\r\n      }).then((data) => {\r\n        if (data.status === 201) {\r\n          console.log(\"profile edited\");\r\n          props.getProfile();\r\n          props.onHide();\r\n        } else {\r\n          console.log(\"error\");\r\n        }\r\n      });\r\n    }\r\n    setValidated(true);\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      {...props}\r\n      size=\"lg\"\r\n      aria-labelledby=\"contained-modal-title-vcenter\"\r\n      centered\r\n    >\r\n      <Modal.Header closeButton>\r\n        <Modal.Title id=\"contained-modal-title-vcenter\">\r\n          Edit Profile\r\n        </Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <div\r\n          id=\"edit-user-container\"\r\n          className=\"edit-user d-flex justify-content-center flex-column align-items-center text-left\"\r\n        >\r\n          <Form\r\n            onSubmit={(e) => editProfile(e)}\r\n            className=\"edit-user-form\"\r\n            noValidate\r\n            validated={validated}\r\n          >\r\n            <h4 className=\"mb-3 text-center\">Address</h4>\r\n            <Form.Group\r\n              as={Row}\r\n              className=\"mb-3\"\r\n              controlId=\"validationCustom01\"\r\n            >\r\n              <Form.Label column sm=\"3\">\r\n                Street*\r\n              </Form.Label>\r\n              <Col sm=\"9\">\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  name=\"street\"\r\n                  defaultValue={props.street}\r\n                  onChange={handleChangeEditProfile}\r\n                  placeholder=\"ex. : Kulas Light\"\r\n                  aria-label=\"ex. : Kulas Light\"\r\n                  pattern=\"(^[A-Za-z]{2,30})([ ]{0,1})([A-Za-z]{2,30}[ ]{0,1}){0,3}\"\r\n                  required\r\n                />\r\n                <Form.Control.Feedback type=\"invalid\">\r\n                  Invalid street name.\r\n                </Form.Control.Feedback>\r\n              </Col>\r\n            </Form.Group>\r\n            <Form.Group\r\n              as={Row}\r\n              className=\"mb-3\"\r\n              controlId=\"validationCustom02\"\r\n            >\r\n              <Form.Label column sm=\"3\">\r\n                Suite*\r\n              </Form.Label>\r\n              <Col sm=\"9\">\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  name=\"suite\"\r\n                  defaultValue={props.suite}\r\n                  onChange={handleChangeEditProfile}\r\n                  placeholder=\"ex. : Apt. 556\"\r\n                  aria-label=\"ex. : Apt. 556\"\r\n                  pattern=\"^[.0-9a-zA-Z\\s,-]+$\"\r\n                  required\r\n                />\r\n                <Form.Control.Feedback type=\"invalid\">\r\n                  Invalid suite format.\r\n                </Form.Control.Feedback>\r\n              </Col>\r\n            </Form.Group>\r\n\r\n            <Form.Group\r\n              as={Row}\r\n              className=\"mb-3\"\r\n              controlId=\"validationCustom03\"\r\n            >\r\n              <Form.Label column sm=\"3\">\r\n                City*\r\n              </Form.Label>\r\n              <Col sm=\"9\">\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  name=\"city\"\r\n                  defaultValue={props.city}\r\n                  onChange={handleChangeEditProfile}\r\n                  placeholder=\"ex. : Gwenborough\"\r\n                  aria-label=\"ex. : Gwenborough\"\r\n                  pattern=\"(^[A-Za-z]{2,30})([ ]{0,1})([A-Za-z]{2,30})\"\r\n                  required\r\n                />\r\n                <Form.Control.Feedback type=\"invalid\">\r\n                  Invalid city name.\r\n                </Form.Control.Feedback>\r\n              </Col>\r\n            </Form.Group>\r\n            <Form.Group\r\n              as={Row}\r\n              className=\"mb-3\"\r\n              controlId=\"validationCustom04\"\r\n            >\r\n              <Form.Label column sm=\"3\">\r\n                Zip code*\r\n              </Form.Label>\r\n              <Col sm=\"9\">\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  name=\"zipcode\"\r\n                  defaultValue={props.zipcode}\r\n                  onChange={handleChangeEditProfile}\r\n                  placeholder=\"ex. : 929987\"\r\n                  aria-label=\"ex. : 929987\"\r\n                  pattern=\"^[0-9]{6}$\"\r\n                  required\r\n                />\r\n                <Form.Control.Feedback type=\"invalid\">\r\n                  Invalid zip code format.\r\n                </Form.Control.Feedback>\r\n              </Col>\r\n            </Form.Group>\r\n\r\n            <h4 className=\"mb-3 text-center\">Phone</h4>\r\n            <Form.Group\r\n              as={Row}\r\n              className=\"mb-3\"\r\n              controlId=\"validationCustom05\"\r\n            >\r\n              <Form.Label column sm=\"3\">\r\n                Phone number*\r\n              </Form.Label>\r\n              <Col sm=\"9\">\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  name=\"phone\"\r\n                  defaultValue={props.phone}\r\n                  onChange={handleChangeEditProfile}\r\n                  placeholder=\"ex. : 0712345678\"\r\n                  aria-label=\"ex. : 0712345678\"\r\n                  pattern=\"^[+]*[(]{0,1}[0-9]{1,4}[)]{0,1}[-\\s\\./0-9]*$\"\r\n                  required\r\n                />\r\n                <Form.Control.Feedback type=\"invalid\">\r\n                  Invalid phone number format.\r\n                </Form.Control.Feedback>\r\n              </Col>\r\n            </Form.Group>\r\n          </Form>\r\n        </div>\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <div className=\"add-new-buttons d-flex justify-content-between\">\r\n          <Button variant=\"danger\" onClick={editProfile}>\r\n            Save changes\r\n          </Button>\r\n          <Button onClick={props.onHide}>Cancel</Button>\r\n        </div>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nexport default EditProfileModal;\r\n"]},"metadata":{},"sourceType":"module"}