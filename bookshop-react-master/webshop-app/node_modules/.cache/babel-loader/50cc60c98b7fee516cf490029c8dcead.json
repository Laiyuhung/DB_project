{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\laiyu\\\\Documents\\\\bookshop\\\\bookshop-react-master\\\\webshop-app\\\\src\\\\pages\\\\OrdersPage.js\",\n    _s = $RefreshSig$();\n\nimport FooterComponent from \"../components/FooterComponent\";\nimport NavbarComponent from \"../components/NavbarComponent\";\nimport Order from \"../components/Order\";\nimport \"../css/Orders.css\";\nimport React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction OrdersPage() {\n  _s();\n\n  const [orders, setOrders] = useState([]);\n  const [cartItemsNumber, setCartItemsNumber] = useState(0);\n  let loggedIn = false;\n  let idUser = localStorage.getItem(\"user_id\");\n\n  if (idUser) {\n    loggedIn = true;\n  }\n\n  useEffect(() => {\n    const cartItems = JSON.parse(localStorage.getItem(\"items\"));\n    let counter = 0;\n\n    if (cartItems) {\n      for (let i = 0; i < cartItems.length; i++) {\n        counter = counter + cartItems[i].quantity;\n      }\n\n      setCartItemsNumber(counter);\n    }\n\n    fetch(`http://localhost:3001/orders/user/${idUser}`).then(response => response.json()).then(data => setOrders(data));\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(NavbarComponent, {\n      cartItemsNumber: cartItemsNumber\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"order-main\",\n        children: loggedIn && orders.length > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: orders.map(order => /*#__PURE__*/_jsxDEV(Order, {\n            order: order,\n            id: order.id,\n            email: order.email,\n            name: order.name,\n            phone: order.name,\n            date: order.date,\n            total: order.total,\n            deliveryAddress: order.delivery_address,\n            billingAddress: order.billing_address\n          }, order.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 33\n          }, this))\n        }, void 0, false) : loggedIn && orders.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center mt-5\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"You don't have any orders yet\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/\",\n            children: \"Go back to Home page\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center mt-5\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"You're not allowed on this page\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/\",\n            children: \"Go back to Home page\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(FooterComponent, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true);\n}\n\n_s(OrdersPage, \"viQepQKDzISjQ3bxXoopwI1T7EA=\");\n\n_c = OrdersPage;\nexport default OrdersPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"OrdersPage\");","map":{"version":3,"sources":["C:/Users/laiyu/Documents/bookshop/bookshop-react-master/webshop-app/src/pages/OrdersPage.js"],"names":["FooterComponent","NavbarComponent","Order","React","useState","useEffect","Link","OrdersPage","orders","setOrders","cartItemsNumber","setCartItemsNumber","loggedIn","idUser","localStorage","getItem","cartItems","JSON","parse","counter","i","length","quantity","fetch","then","response","json","data","map","order","id","email","name","date","total","delivery_address","billing_address"],"mappings":"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","sourcesContent":["import FooterComponent from \"../components/FooterComponent\";\r\nimport NavbarComponent from \"../components/NavbarComponent\";\r\nimport Order from \"../components/Order\";\r\nimport \"../css/Orders.css\";\r\nimport React from \"react\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction OrdersPage() {\r\n    const [orders, setOrders] = useState([]);\r\n    const [cartItemsNumber, setCartItemsNumber] = useState(0);\r\n\r\n    let loggedIn = false;\r\n    let idUser = localStorage.getItem(\"user_id\");\r\n\r\n    if (idUser) {\r\n        loggedIn = true;\r\n    }\r\n\r\n    useEffect(() => {\r\n        const cartItems = JSON.parse(localStorage.getItem(\"items\"));\r\n        let counter = 0;\r\n        if (cartItems) {\r\n            for (let i = 0; i < cartItems.length; i++) {\r\n                counter = counter + cartItems[i].quantity;\r\n            }\r\n            setCartItemsNumber(counter);\r\n        }\r\n\r\n        fetch(`http://localhost:3001/orders/user/${idUser}`)\r\n            .then((response) => response.json())\r\n            .then((data) => setOrders(data));\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <NavbarComponent cartItemsNumber={cartItemsNumber} />\r\n            <>\r\n                <div className=\"order-main\">\r\n                    {loggedIn && orders.length > 0 ? (\r\n                        <>\r\n                            {orders.map((order) => (\r\n                                <Order\r\n                                    key={order.id}\r\n                                    order={order}\r\n                                    id={order.id}\r\n                                    email={order.email}\r\n                                    name={order.name}\r\n                                    phone={order.name}\r\n                                    date={order.date}\r\n                                    total={order.total}\r\n                                    deliveryAddress={order.delivery_address}\r\n                                    billingAddress={order.billing_address}\r\n                                />\r\n                            ))}\r\n                        </>\r\n                    ) : loggedIn && orders.length === 0 ? (\r\n                        <div className=\"text-center mt-5\">\r\n                            <h3>You don't have any orders yet</h3>\r\n                            <Link to=\"/\">Go back to Home page</Link>\r\n                        </div>\r\n                    ) : (\r\n                        <div className=\"text-center mt-5\">\r\n                            <h3>You're not allowed on this page</h3>\r\n                            <Link to=\"/\">Go back to Home page</Link>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n                <FooterComponent />\r\n            </>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default OrdersPage;\r\n"]},"metadata":{},"sourceType":"module"}