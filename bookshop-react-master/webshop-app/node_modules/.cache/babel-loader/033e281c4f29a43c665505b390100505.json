{"ast":null,"code":"import React, { createElement } from 'react';\nimport { useLocation, matchPath } from 'react-router';\n\nvar joinPaths = function joinPaths(paths) {\n  return paths.join('/').replace(/\\/\\/+/g, '/');\n};\n\nvar paramRe = /^:\\w+$/;\nvar dynamicSegmentValue = 3;\nvar indexRouteValue = 2;\nvar emptySegmentValue = 1;\nvar staticSegmentValue = 10;\nvar splatPenalty = -2;\n\nvar isSplat = function isSplat(s) {\n  return s === '*';\n};\n\nfunction computeScore(path, index) {\n  var segments = path.split('/');\n  var initialScore = segments.length;\n\n  if (segments.some(isSplat)) {\n    initialScore += splatPenalty;\n  }\n\n  if (index) {\n    initialScore += indexRouteValue;\n  }\n\n  return segments.filter(function (s) {\n    return !isSplat(s);\n  }).reduce(function (score, segment) {\n    if (paramRe.test(segment)) {\n      return score + dynamicSegmentValue;\n    }\n\n    if (segment === '') {\n      return score + emptySegmentValue;\n    }\n\n    return score + staticSegmentValue;\n  }, initialScore);\n}\n\nfunction compareIndexes(a, b) {\n  var siblings = a.length === b.length && a.slice(0, -1).every(function (n, i) {\n    return n === b[i];\n  });\n  return siblings ? a[a.length - 1] - b[b.length - 1] : 0;\n}\n\nfunction flattenRoutes(routes) {\n  var branches = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var parentsMeta = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n  var parentPath = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '';\n  routes.forEach(function (route, index) {\n    var _a;\n\n    if (typeof route.path !== 'string' && !route.index && !((_a = route.children) === null || _a === void 0 ? void 0 : _a.length)) {\n      throw new Error('useBreadcrumbs: `path` or `index` must be provided in every route object');\n    }\n\n    if (route.path && route.index) {\n      throw new Error('useBreadcrumbs: `path` and `index` cannot be provided at the same time');\n    }\n\n    var meta = {\n      relativePath: route.path || '',\n      childrenIndex: index,\n      route: route\n    };\n\n    if (meta.relativePath.charAt(0) === '/') {\n      if (!meta.relativePath.startsWith(parentPath)) {\n        throw new Error('useBreadcrumbs: The absolute path of the child route must start with the parent path');\n      }\n\n      meta.relativePath = meta.relativePath.slice(parentPath.length);\n    }\n\n    var path = joinPaths([parentPath, meta.relativePath]);\n    var routesMeta = parentsMeta.concat(meta);\n\n    if (route.children && route.children.length > 0) {\n      if (route.index) {\n        throw new Error('useBreadcrumbs: Index route cannot have child routes');\n      }\n\n      flattenRoutes(route.children, branches, routesMeta, path);\n    }\n\n    branches.push({\n      path: path,\n      score: computeScore(path, route.index),\n      routesMeta: routesMeta\n    });\n  });\n  return branches;\n}\n\nfunction rankRouteBranches(branches) {\n  return branches.sort(function (a, b) {\n    return a.score !== b.score ? b.score - a.score : compareIndexes(a.routesMeta.map(function (meta) {\n      return meta.childrenIndex;\n    }), b.routesMeta.map(function (meta) {\n      return meta.childrenIndex;\n    }));\n  });\n}\n\nvar NO_BREADCRUMB = Symbol('NO_BREADCRUMB');\n\nvar humanize = function humanize(str) {\n  return str.replace(/^[\\s_]+|[\\s_]+$/g, '').replace(/[-_\\s]+/g, ' ').replace(/^[a-z]/, function (m) {\n    return m.toUpperCase();\n  });\n};\n\nvar render = function render(_ref) {\n  var Breadcrumb = _ref.breadcrumb,\n      match = _ref.match,\n      location = _ref.location,\n      props = _ref.props;\n  var componentProps = Object.assign({\n    match: match,\n    location: location,\n    key: match.pathname\n  }, props || {});\n  return Object.assign(Object.assign({}, componentProps), {\n    breadcrumb: typeof Breadcrumb === 'string' ? /*#__PURE__*/createElement('span', {\n      key: componentProps.key\n    }, Breadcrumb) : /*#__PURE__*/React.createElement(Breadcrumb, Object.assign({}, componentProps))\n  });\n};\n\nvar getDefaultBreadcrumb = function getDefaultBreadcrumb(_ref2) {\n  var currentSection = _ref2.currentSection,\n      location = _ref2.location,\n      pathSection = _ref2.pathSection,\n      defaultFormatter = _ref2.defaultFormatter;\n  var match = matchPath({\n    end: true,\n    path: pathSection\n  }, pathSection);\n  return render({\n    breadcrumb: defaultFormatter ? defaultFormatter(currentSection) : humanize(currentSection),\n    match: match,\n    location: location\n  });\n};\n\nvar getBreadcrumbMatch = function getBreadcrumbMatch(_ref3) {\n  var currentSection = _ref3.currentSection,\n      disableDefaults = _ref3.disableDefaults,\n      excludePaths = _ref3.excludePaths,\n      defaultFormatter = _ref3.defaultFormatter,\n      location = _ref3.location,\n      pathSection = _ref3.pathSection,\n      branches = _ref3.branches;\n  var breadcrumb;\n\n  var getIsPathExcluded = function getIsPathExcluded(path) {\n    return matchPath({\n      path: path,\n      end: true\n    }, pathSection) != null;\n  };\n\n  if (excludePaths && excludePaths.some(getIsPathExcluded)) {\n    return NO_BREADCRUMB;\n  }\n\n  branches.some(function (_ref4) {\n    var path = _ref4.path,\n        routesMeta = _ref4.routesMeta;\n    var route = routesMeta[routesMeta.length - 1].route;\n    var userProvidedBreadcrumb = route.breadcrumb;\n\n    if (!userProvidedBreadcrumb && route.index) {\n      var parentMeta = routesMeta[routesMeta.length - 2];\n\n      if (parentMeta && parentMeta.route.breadcrumb) {\n        userProvidedBreadcrumb = parentMeta.route.breadcrumb;\n      }\n    }\n\n    var caseSensitive = route.caseSensitive,\n        props = route.props;\n    var match = matchPath({\n      path: path,\n      end: true,\n      caseSensitive: caseSensitive\n    }, pathSection);\n\n    if (match && userProvidedBreadcrumb === null) {\n      breadcrumb = NO_BREADCRUMB;\n      return true;\n    }\n\n    if (match) {\n      if (!userProvidedBreadcrumb && disableDefaults) {\n        breadcrumb = NO_BREADCRUMB;\n        return true;\n      }\n\n      breadcrumb = render({\n        breadcrumb: userProvidedBreadcrumb || (defaultFormatter ? defaultFormatter(currentSection) : humanize(currentSection)),\n        match: Object.assign(Object.assign({}, match), {\n          route: route\n        }),\n        location: location,\n        props: props\n      });\n      return true;\n    }\n\n    return false;\n  });\n\n  if (breadcrumb) {\n    return breadcrumb;\n  }\n\n  if (disableDefaults) {\n    return NO_BREADCRUMB;\n  }\n\n  return getDefaultBreadcrumb({\n    pathSection: pathSection,\n    currentSection: pathSection === '/' ? 'Home' : currentSection,\n    location: location,\n    defaultFormatter: defaultFormatter\n  });\n};\n\nvar getBreadcrumbs = function getBreadcrumbs(_ref5) {\n  var routes = _ref5.routes,\n      location = _ref5.location,\n      _ref5$options = _ref5.options,\n      options = _ref5$options === void 0 ? {} : _ref5$options;\n  var pathname = location.pathname;\n  var branches = rankRouteBranches(flattenRoutes(routes));\n  var breadcrumbs = [];\n  pathname.split('?')[0].split('/').reduce(function (previousSection, currentSection, index) {\n    var pathSection = !currentSection ? '/' : \"\".concat(previousSection, \"/\").concat(currentSection);\n\n    if (pathSection === '/' && index !== 0) {\n      return '';\n    }\n\n    var breadcrumb = getBreadcrumbMatch(Object.assign({\n      currentSection: currentSection,\n      location: location,\n      pathSection: pathSection,\n      branches: branches\n    }, options));\n\n    if (breadcrumb !== NO_BREADCRUMB) {\n      breadcrumbs.push(breadcrumb);\n    }\n\n    return pathSection === '/' ? '' : pathSection;\n  }, '');\n  return breadcrumbs;\n};\n\nvar useReactRouterBreadcrumbs = function useReactRouterBreadcrumbs(routes, options) {\n  return getBreadcrumbs({\n    routes: routes || [],\n    location: useLocation(),\n    options: options\n  });\n};\n\nexport default useReactRouterBreadcrumbs;\nexport { getBreadcrumbs, humanize };","map":{"version":3,"sources":["C:/Users/laiyu/Documents/bookshop/bookshop-react-master/webshop-app/node_modules/use-react-router-breadcrumbs/dist/es/index.js"],"names":["React","createElement","useLocation","matchPath","joinPaths","paths","join","replace","paramRe","dynamicSegmentValue","indexRouteValue","emptySegmentValue","staticSegmentValue","splatPenalty","isSplat","s","computeScore","path","index","segments","split","initialScore","length","some","filter","reduce","score","segment","test","compareIndexes","a","b","siblings","slice","every","n","i","flattenRoutes","routes","branches","arguments","undefined","parentsMeta","parentPath","forEach","route","_a","children","Error","meta","relativePath","childrenIndex","charAt","startsWith","routesMeta","concat","push","rankRouteBranches","sort","map","NO_BREADCRUMB","Symbol","humanize","str","m","toUpperCase","render","_ref","Breadcrumb","breadcrumb","match","location","props","componentProps","Object","assign","key","pathname","getDefaultBreadcrumb","_ref2","currentSection","pathSection","defaultFormatter","end","getBreadcrumbMatch","_ref3","disableDefaults","excludePaths","getIsPathExcluded","_ref4","userProvidedBreadcrumb","parentMeta","caseSensitive","getBreadcrumbs","_ref5","_ref5$options","options","breadcrumbs","previousSection","useReactRouterBreadcrumbs"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,aAAhB,QAAqC,OAArC;AACA,SAASC,WAAT,EAAsBC,SAAtB,QAAuC,cAAvC;;AAEA,IAAIC,SAAS,GAAG,SAASA,SAAT,CAAmBC,KAAnB,EAA0B;AACxC,SAAOA,KAAK,CAACC,IAAN,CAAW,GAAX,EAAgBC,OAAhB,CAAwB,QAAxB,EAAkC,GAAlC,CAAP;AACD,CAFD;;AAIA,IAAIC,OAAO,GAAG,QAAd;AACA,IAAIC,mBAAmB,GAAG,CAA1B;AACA,IAAIC,eAAe,GAAG,CAAtB;AACA,IAAIC,iBAAiB,GAAG,CAAxB;AACA,IAAIC,kBAAkB,GAAG,EAAzB;AACA,IAAIC,YAAY,GAAG,CAAC,CAApB;;AAEA,IAAIC,OAAO,GAAG,SAASA,OAAT,CAAiBC,CAAjB,EAAoB;AAChC,SAAOA,CAAC,KAAK,GAAb;AACD,CAFD;;AAIA,SAASC,YAAT,CAAsBC,IAAtB,EAA4BC,KAA5B,EAAmC;AACjC,MAAIC,QAAQ,GAAGF,IAAI,CAACG,KAAL,CAAW,GAAX,CAAf;AACA,MAAIC,YAAY,GAAGF,QAAQ,CAACG,MAA5B;;AAEA,MAAIH,QAAQ,CAACI,IAAT,CAAcT,OAAd,CAAJ,EAA4B;AAC1BO,IAAAA,YAAY,IAAIR,YAAhB;AACD;;AAED,MAAIK,KAAJ,EAAW;AACTG,IAAAA,YAAY,IAAIX,eAAhB;AACD;;AAED,SAAOS,QAAQ,CAACK,MAAT,CAAgB,UAAUT,CAAV,EAAa;AAClC,WAAO,CAACD,OAAO,CAACC,CAAD,CAAf;AACD,GAFM,EAEJU,MAFI,CAEG,UAAUC,KAAV,EAAiBC,OAAjB,EAA0B;AAClC,QAAInB,OAAO,CAACoB,IAAR,CAAaD,OAAb,CAAJ,EAA2B;AACzB,aAAOD,KAAK,GAAGjB,mBAAf;AACD;;AAED,QAAIkB,OAAO,KAAK,EAAhB,EAAoB;AAClB,aAAOD,KAAK,GAAGf,iBAAf;AACD;;AAED,WAAOe,KAAK,GAAGd,kBAAf;AACD,GAZM,EAYJS,YAZI,CAAP;AAaD;;AAED,SAASQ,cAAT,CAAwBC,CAAxB,EAA2BC,CAA3B,EAA8B;AAC5B,MAAIC,QAAQ,GAAGF,CAAC,CAACR,MAAF,KAAaS,CAAC,CAACT,MAAf,IAAyBQ,CAAC,CAACG,KAAF,CAAQ,CAAR,EAAW,CAAC,CAAZ,EAAeC,KAAf,CAAqB,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AAC3E,WAAOD,CAAC,KAAKJ,CAAC,CAACK,CAAD,CAAd;AACD,GAFuC,CAAxC;AAGA,SAAOJ,QAAQ,GAAGF,CAAC,CAACA,CAAC,CAACR,MAAF,GAAW,CAAZ,CAAD,GAAkBS,CAAC,CAACA,CAAC,CAACT,MAAF,GAAW,CAAZ,CAAtB,GAAuC,CAAtD;AACD;;AAED,SAASe,aAAT,CAAuBC,MAAvB,EAA+B;AAC7B,MAAIC,QAAQ,GAAGC,SAAS,CAAClB,MAAV,GAAmB,CAAnB,IAAwBkB,SAAS,CAAC,CAAD,CAAT,KAAiBC,SAAzC,GAAqDD,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAAnF;AACA,MAAIE,WAAW,GAAGF,SAAS,CAAClB,MAAV,GAAmB,CAAnB,IAAwBkB,SAAS,CAAC,CAAD,CAAT,KAAiBC,SAAzC,GAAqDD,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAAtF;AACA,MAAIG,UAAU,GAAGH,SAAS,CAAClB,MAAV,GAAmB,CAAnB,IAAwBkB,SAAS,CAAC,CAAD,CAAT,KAAiBC,SAAzC,GAAqDD,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAArF;AACAF,EAAAA,MAAM,CAACM,OAAP,CAAe,UAAUC,KAAV,EAAiB3B,KAAjB,EAAwB;AACrC,QAAI4B,EAAJ;;AAEA,QAAI,OAAOD,KAAK,CAAC5B,IAAb,KAAsB,QAAtB,IAAkC,CAAC4B,KAAK,CAAC3B,KAAzC,IAAkD,EAAE,CAAC4B,EAAE,GAAGD,KAAK,CAACE,QAAZ,MAA0B,IAA1B,IAAkCD,EAAE,KAAK,KAAK,CAA9C,GAAkD,KAAK,CAAvD,GAA2DA,EAAE,CAACxB,MAAhE,CAAtD,EAA+H;AAC7H,YAAM,IAAI0B,KAAJ,CAAU,0EAAV,CAAN;AACD;;AAED,QAAIH,KAAK,CAAC5B,IAAN,IAAc4B,KAAK,CAAC3B,KAAxB,EAA+B;AAC7B,YAAM,IAAI8B,KAAJ,CAAU,wEAAV,CAAN;AACD;;AAED,QAAIC,IAAI,GAAG;AACTC,MAAAA,YAAY,EAAEL,KAAK,CAAC5B,IAAN,IAAc,EADnB;AAETkC,MAAAA,aAAa,EAAEjC,KAFN;AAGT2B,MAAAA,KAAK,EAAEA;AAHE,KAAX;;AAMA,QAAII,IAAI,CAACC,YAAL,CAAkBE,MAAlB,CAAyB,CAAzB,MAAgC,GAApC,EAAyC;AACvC,UAAI,CAACH,IAAI,CAACC,YAAL,CAAkBG,UAAlB,CAA6BV,UAA7B,CAAL,EAA+C;AAC7C,cAAM,IAAIK,KAAJ,CAAU,sFAAV,CAAN;AACD;;AAEDC,MAAAA,IAAI,CAACC,YAAL,GAAoBD,IAAI,CAACC,YAAL,CAAkBjB,KAAlB,CAAwBU,UAAU,CAACrB,MAAnC,CAApB;AACD;;AAED,QAAIL,IAAI,GAAGb,SAAS,CAAC,CAACuC,UAAD,EAAaM,IAAI,CAACC,YAAlB,CAAD,CAApB;AACA,QAAII,UAAU,GAAGZ,WAAW,CAACa,MAAZ,CAAmBN,IAAnB,CAAjB;;AAEA,QAAIJ,KAAK,CAACE,QAAN,IAAkBF,KAAK,CAACE,QAAN,CAAezB,MAAf,GAAwB,CAA9C,EAAiD;AAC/C,UAAIuB,KAAK,CAAC3B,KAAV,EAAiB;AACf,cAAM,IAAI8B,KAAJ,CAAU,sDAAV,CAAN;AACD;;AAEDX,MAAAA,aAAa,CAACQ,KAAK,CAACE,QAAP,EAAiBR,QAAjB,EAA2Be,UAA3B,EAAuCrC,IAAvC,CAAb;AACD;;AAEDsB,IAAAA,QAAQ,CAACiB,IAAT,CAAc;AACZvC,MAAAA,IAAI,EAAEA,IADM;AAEZS,MAAAA,KAAK,EAAEV,YAAY,CAACC,IAAD,EAAO4B,KAAK,CAAC3B,KAAb,CAFP;AAGZoC,MAAAA,UAAU,EAAEA;AAHA,KAAd;AAKD,GAzCD;AA0CA,SAAOf,QAAP;AACD;;AAED,SAASkB,iBAAT,CAA2BlB,QAA3B,EAAqC;AACnC,SAAOA,QAAQ,CAACmB,IAAT,CAAc,UAAU5B,CAAV,EAAaC,CAAb,EAAgB;AACnC,WAAOD,CAAC,CAACJ,KAAF,KAAYK,CAAC,CAACL,KAAd,GAAsBK,CAAC,CAACL,KAAF,GAAUI,CAAC,CAACJ,KAAlC,GAA0CG,cAAc,CAACC,CAAC,CAACwB,UAAF,CAAaK,GAAb,CAAiB,UAAUV,IAAV,EAAgB;AAC/F,aAAOA,IAAI,CAACE,aAAZ;AACD,KAF+D,CAAD,EAE3DpB,CAAC,CAACuB,UAAF,CAAaK,GAAb,CAAiB,UAAUV,IAAV,EAAgB;AACnC,aAAOA,IAAI,CAACE,aAAZ;AACD,KAFG,CAF2D,CAA/D;AAKD,GANM,CAAP;AAOD;;AAED,IAAIS,aAAa,GAAGC,MAAM,CAAC,eAAD,CAA1B;;AACA,IAAIC,QAAQ,GAAG,SAASA,QAAT,CAAkBC,GAAlB,EAAuB;AACpC,SAAOA,GAAG,CAACxD,OAAJ,CAAY,kBAAZ,EAAgC,EAAhC,EAAoCA,OAApC,CAA4C,UAA5C,EAAwD,GAAxD,EAA6DA,OAA7D,CAAqE,QAArE,EAA+E,UAAUyD,CAAV,EAAa;AACjG,WAAOA,CAAC,CAACC,WAAF,EAAP;AACD,GAFM,CAAP;AAGD,CAJD;;AAMA,IAAIC,MAAM,GAAG,SAASA,MAAT,CAAgBC,IAAhB,EAAsB;AACjC,MAAIC,UAAU,GAAGD,IAAI,CAACE,UAAtB;AAAA,MACIC,KAAK,GAAGH,IAAI,CAACG,KADjB;AAAA,MAEIC,QAAQ,GAAGJ,IAAI,CAACI,QAFpB;AAAA,MAGIC,KAAK,GAAGL,IAAI,CAACK,KAHjB;AAIA,MAAIC,cAAc,GAAGC,MAAM,CAACC,MAAP,CAAc;AACjCL,IAAAA,KAAK,EAAEA,KAD0B;AAEjCC,IAAAA,QAAQ,EAAEA,QAFuB;AAGjCK,IAAAA,GAAG,EAAEN,KAAK,CAACO;AAHsB,GAAd,EAIlBL,KAAK,IAAI,EAJS,CAArB;AAKA,SAAOE,MAAM,CAACC,MAAP,CAAcD,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBF,cAAlB,CAAd,EAAiD;AACtDJ,IAAAA,UAAU,EAAE,OAAOD,UAAP,KAAsB,QAAtB,GAAiC,aAAanE,aAAa,CAAC,MAAD,EAAS;AAC9E2E,MAAAA,GAAG,EAAEH,cAAc,CAACG;AAD0D,KAAT,EAEpER,UAFoE,CAA3D,GAEK,aAAapE,KAAK,CAACC,aAAN,CAAoBmE,UAApB,EAAgCM,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBF,cAAlB,CAAhC;AAHwB,GAAjD,CAAP;AAKD,CAfD;;AAiBA,IAAIK,oBAAoB,GAAG,SAASA,oBAAT,CAA8BC,KAA9B,EAAqC;AAC9D,MAAIC,cAAc,GAAGD,KAAK,CAACC,cAA3B;AAAA,MACIT,QAAQ,GAAGQ,KAAK,CAACR,QADrB;AAAA,MAEIU,WAAW,GAAGF,KAAK,CAACE,WAFxB;AAAA,MAGIC,gBAAgB,GAAGH,KAAK,CAACG,gBAH7B;AAIA,MAAIZ,KAAK,GAAGnE,SAAS,CAAC;AACpBgF,IAAAA,GAAG,EAAE,IADe;AAEpBlE,IAAAA,IAAI,EAAEgE;AAFc,GAAD,EAGlBA,WAHkB,CAArB;AAIA,SAAOf,MAAM,CAAC;AACZG,IAAAA,UAAU,EAAEa,gBAAgB,GAAGA,gBAAgB,CAACF,cAAD,CAAnB,GAAsClB,QAAQ,CAACkB,cAAD,CAD9D;AAEZV,IAAAA,KAAK,EAAEA,KAFK;AAGZC,IAAAA,QAAQ,EAAEA;AAHE,GAAD,CAAb;AAKD,CAdD;;AAgBA,IAAIa,kBAAkB,GAAG,SAASA,kBAAT,CAA4BC,KAA5B,EAAmC;AAC1D,MAAIL,cAAc,GAAGK,KAAK,CAACL,cAA3B;AAAA,MACIM,eAAe,GAAGD,KAAK,CAACC,eAD5B;AAAA,MAEIC,YAAY,GAAGF,KAAK,CAACE,YAFzB;AAAA,MAGIL,gBAAgB,GAAGG,KAAK,CAACH,gBAH7B;AAAA,MAIIX,QAAQ,GAAGc,KAAK,CAACd,QAJrB;AAAA,MAKIU,WAAW,GAAGI,KAAK,CAACJ,WALxB;AAAA,MAMI1C,QAAQ,GAAG8C,KAAK,CAAC9C,QANrB;AAOA,MAAI8B,UAAJ;;AAEA,MAAImB,iBAAiB,GAAG,SAASA,iBAAT,CAA2BvE,IAA3B,EAAiC;AACvD,WAAOd,SAAS,CAAC;AACfc,MAAAA,IAAI,EAAEA,IADS;AAEfkE,MAAAA,GAAG,EAAE;AAFU,KAAD,EAGbF,WAHa,CAAT,IAGY,IAHnB;AAID,GALD;;AAOA,MAAIM,YAAY,IAAIA,YAAY,CAAChE,IAAb,CAAkBiE,iBAAlB,CAApB,EAA0D;AACxD,WAAO5B,aAAP;AACD;;AAEDrB,EAAAA,QAAQ,CAAChB,IAAT,CAAc,UAAUkE,KAAV,EAAiB;AAC7B,QAAIxE,IAAI,GAAGwE,KAAK,CAACxE,IAAjB;AAAA,QACIqC,UAAU,GAAGmC,KAAK,CAACnC,UADvB;AAEA,QAAIT,KAAK,GAAGS,UAAU,CAACA,UAAU,CAAChC,MAAX,GAAoB,CAArB,CAAV,CAAkCuB,KAA9C;AACA,QAAI6C,sBAAsB,GAAG7C,KAAK,CAACwB,UAAnC;;AAEA,QAAI,CAACqB,sBAAD,IAA2B7C,KAAK,CAAC3B,KAArC,EAA4C;AAC1C,UAAIyE,UAAU,GAAGrC,UAAU,CAACA,UAAU,CAAChC,MAAX,GAAoB,CAArB,CAA3B;;AAEA,UAAIqE,UAAU,IAAIA,UAAU,CAAC9C,KAAX,CAAiBwB,UAAnC,EAA+C;AAC7CqB,QAAAA,sBAAsB,GAAGC,UAAU,CAAC9C,KAAX,CAAiBwB,UAA1C;AACD;AACF;;AAED,QAAIuB,aAAa,GAAG/C,KAAK,CAAC+C,aAA1B;AAAA,QACIpB,KAAK,GAAG3B,KAAK,CAAC2B,KADlB;AAEA,QAAIF,KAAK,GAAGnE,SAAS,CAAC;AACpBc,MAAAA,IAAI,EAAEA,IADc;AAEpBkE,MAAAA,GAAG,EAAE,IAFe;AAGpBS,MAAAA,aAAa,EAAEA;AAHK,KAAD,EAIlBX,WAJkB,CAArB;;AAMA,QAAIX,KAAK,IAAIoB,sBAAsB,KAAK,IAAxC,EAA8C;AAC5CrB,MAAAA,UAAU,GAAGT,aAAb;AACA,aAAO,IAAP;AACD;;AAED,QAAIU,KAAJ,EAAW;AACT,UAAI,CAACoB,sBAAD,IAA2BJ,eAA/B,EAAgD;AAC9CjB,QAAAA,UAAU,GAAGT,aAAb;AACA,eAAO,IAAP;AACD;;AAEDS,MAAAA,UAAU,GAAGH,MAAM,CAAC;AAClBG,QAAAA,UAAU,EAAEqB,sBAAsB,KAAKR,gBAAgB,GAAGA,gBAAgB,CAACF,cAAD,CAAnB,GAAsClB,QAAQ,CAACkB,cAAD,CAAnE,CADhB;AAElBV,QAAAA,KAAK,EAAEI,MAAM,CAACC,MAAP,CAAcD,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBL,KAAlB,CAAd,EAAwC;AAC7CzB,UAAAA,KAAK,EAAEA;AADsC,SAAxC,CAFW;AAKlB0B,QAAAA,QAAQ,EAAEA,QALQ;AAMlBC,QAAAA,KAAK,EAAEA;AANW,OAAD,CAAnB;AAQA,aAAO,IAAP;AACD;;AAED,WAAO,KAAP;AACD,GA7CD;;AA+CA,MAAIH,UAAJ,EAAgB;AACd,WAAOA,UAAP;AACD;;AAED,MAAIiB,eAAJ,EAAqB;AACnB,WAAO1B,aAAP;AACD;;AAED,SAAOkB,oBAAoB,CAAC;AAC1BG,IAAAA,WAAW,EAAEA,WADa;AAE1BD,IAAAA,cAAc,EAAEC,WAAW,KAAK,GAAhB,GAAsB,MAAtB,GAA+BD,cAFrB;AAG1BT,IAAAA,QAAQ,EAAEA,QAHgB;AAI1BW,IAAAA,gBAAgB,EAAEA;AAJQ,GAAD,CAA3B;AAMD,CAlFD;;AAoFA,IAAIW,cAAc,GAAG,SAASA,cAAT,CAAwBC,KAAxB,EAA+B;AAClD,MAAIxD,MAAM,GAAGwD,KAAK,CAACxD,MAAnB;AAAA,MACIiC,QAAQ,GAAGuB,KAAK,CAACvB,QADrB;AAAA,MAEIwB,aAAa,GAAGD,KAAK,CAACE,OAF1B;AAAA,MAGIA,OAAO,GAAGD,aAAa,KAAK,KAAK,CAAvB,GAA2B,EAA3B,GAAgCA,aAH9C;AAIA,MAAIlB,QAAQ,GAAGN,QAAQ,CAACM,QAAxB;AACA,MAAItC,QAAQ,GAAGkB,iBAAiB,CAACpB,aAAa,CAACC,MAAD,CAAd,CAAhC;AACA,MAAI2D,WAAW,GAAG,EAAlB;AACApB,EAAAA,QAAQ,CAACzD,KAAT,CAAe,GAAf,EAAoB,CAApB,EAAuBA,KAAvB,CAA6B,GAA7B,EAAkCK,MAAlC,CAAyC,UAAUyE,eAAV,EAA2BlB,cAA3B,EAA2C9D,KAA3C,EAAkD;AACzF,QAAI+D,WAAW,GAAG,CAACD,cAAD,GAAkB,GAAlB,GAAwB,GAAGzB,MAAH,CAAU2C,eAAV,EAA2B,GAA3B,EAAgC3C,MAAhC,CAAuCyB,cAAvC,CAA1C;;AAEA,QAAIC,WAAW,KAAK,GAAhB,IAAuB/D,KAAK,KAAK,CAArC,EAAwC;AACtC,aAAO,EAAP;AACD;;AAED,QAAImD,UAAU,GAAGe,kBAAkB,CAACV,MAAM,CAACC,MAAP,CAAc;AAChDK,MAAAA,cAAc,EAAEA,cADgC;AAEhDT,MAAAA,QAAQ,EAAEA,QAFsC;AAGhDU,MAAAA,WAAW,EAAEA,WAHmC;AAIhD1C,MAAAA,QAAQ,EAAEA;AAJsC,KAAd,EAKjCyD,OALiC,CAAD,CAAnC;;AAOA,QAAI3B,UAAU,KAAKT,aAAnB,EAAkC;AAChCqC,MAAAA,WAAW,CAACzC,IAAZ,CAAiBa,UAAjB;AACD;;AAED,WAAOY,WAAW,KAAK,GAAhB,GAAsB,EAAtB,GAA2BA,WAAlC;AACD,GAnBD,EAmBG,EAnBH;AAoBA,SAAOgB,WAAP;AACD,CA7BD;;AA+BA,IAAIE,yBAAyB,GAAG,SAASA,yBAAT,CAAmC7D,MAAnC,EAA2C0D,OAA3C,EAAoD;AAClF,SAAOH,cAAc,CAAC;AACpBvD,IAAAA,MAAM,EAAEA,MAAM,IAAI,EADE;AAEpBiC,IAAAA,QAAQ,EAAErE,WAAW,EAFD;AAGpB8F,IAAAA,OAAO,EAAEA;AAHW,GAAD,CAArB;AAKD,CAND;;AAQA,eAAeG,yBAAf;AACA,SAASN,cAAT,EAAyB/B,QAAzB","sourcesContent":["import React, { createElement } from 'react';\nimport { useLocation, matchPath } from 'react-router';\n\nvar joinPaths = function joinPaths(paths) {\n  return paths.join('/').replace(/\\/\\/+/g, '/');\n};\n\nvar paramRe = /^:\\w+$/;\nvar dynamicSegmentValue = 3;\nvar indexRouteValue = 2;\nvar emptySegmentValue = 1;\nvar staticSegmentValue = 10;\nvar splatPenalty = -2;\n\nvar isSplat = function isSplat(s) {\n  return s === '*';\n};\n\nfunction computeScore(path, index) {\n  var segments = path.split('/');\n  var initialScore = segments.length;\n\n  if (segments.some(isSplat)) {\n    initialScore += splatPenalty;\n  }\n\n  if (index) {\n    initialScore += indexRouteValue;\n  }\n\n  return segments.filter(function (s) {\n    return !isSplat(s);\n  }).reduce(function (score, segment) {\n    if (paramRe.test(segment)) {\n      return score + dynamicSegmentValue;\n    }\n\n    if (segment === '') {\n      return score + emptySegmentValue;\n    }\n\n    return score + staticSegmentValue;\n  }, initialScore);\n}\n\nfunction compareIndexes(a, b) {\n  var siblings = a.length === b.length && a.slice(0, -1).every(function (n, i) {\n    return n === b[i];\n  });\n  return siblings ? a[a.length - 1] - b[b.length - 1] : 0;\n}\n\nfunction flattenRoutes(routes) {\n  var branches = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var parentsMeta = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n  var parentPath = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '';\n  routes.forEach(function (route, index) {\n    var _a;\n\n    if (typeof route.path !== 'string' && !route.index && !((_a = route.children) === null || _a === void 0 ? void 0 : _a.length)) {\n      throw new Error('useBreadcrumbs: `path` or `index` must be provided in every route object');\n    }\n\n    if (route.path && route.index) {\n      throw new Error('useBreadcrumbs: `path` and `index` cannot be provided at the same time');\n    }\n\n    var meta = {\n      relativePath: route.path || '',\n      childrenIndex: index,\n      route: route\n    };\n\n    if (meta.relativePath.charAt(0) === '/') {\n      if (!meta.relativePath.startsWith(parentPath)) {\n        throw new Error('useBreadcrumbs: The absolute path of the child route must start with the parent path');\n      }\n\n      meta.relativePath = meta.relativePath.slice(parentPath.length);\n    }\n\n    var path = joinPaths([parentPath, meta.relativePath]);\n    var routesMeta = parentsMeta.concat(meta);\n\n    if (route.children && route.children.length > 0) {\n      if (route.index) {\n        throw new Error('useBreadcrumbs: Index route cannot have child routes');\n      }\n\n      flattenRoutes(route.children, branches, routesMeta, path);\n    }\n\n    branches.push({\n      path: path,\n      score: computeScore(path, route.index),\n      routesMeta: routesMeta\n    });\n  });\n  return branches;\n}\n\nfunction rankRouteBranches(branches) {\n  return branches.sort(function (a, b) {\n    return a.score !== b.score ? b.score - a.score : compareIndexes(a.routesMeta.map(function (meta) {\n      return meta.childrenIndex;\n    }), b.routesMeta.map(function (meta) {\n      return meta.childrenIndex;\n    }));\n  });\n}\n\nvar NO_BREADCRUMB = Symbol('NO_BREADCRUMB');\nvar humanize = function humanize(str) {\n  return str.replace(/^[\\s_]+|[\\s_]+$/g, '').replace(/[-_\\s]+/g, ' ').replace(/^[a-z]/, function (m) {\n    return m.toUpperCase();\n  });\n};\n\nvar render = function render(_ref) {\n  var Breadcrumb = _ref.breadcrumb,\n      match = _ref.match,\n      location = _ref.location,\n      props = _ref.props;\n  var componentProps = Object.assign({\n    match: match,\n    location: location,\n    key: match.pathname\n  }, props || {});\n  return Object.assign(Object.assign({}, componentProps), {\n    breadcrumb: typeof Breadcrumb === 'string' ? /*#__PURE__*/createElement('span', {\n      key: componentProps.key\n    }, Breadcrumb) : /*#__PURE__*/React.createElement(Breadcrumb, Object.assign({}, componentProps))\n  });\n};\n\nvar getDefaultBreadcrumb = function getDefaultBreadcrumb(_ref2) {\n  var currentSection = _ref2.currentSection,\n      location = _ref2.location,\n      pathSection = _ref2.pathSection,\n      defaultFormatter = _ref2.defaultFormatter;\n  var match = matchPath({\n    end: true,\n    path: pathSection\n  }, pathSection);\n  return render({\n    breadcrumb: defaultFormatter ? defaultFormatter(currentSection) : humanize(currentSection),\n    match: match,\n    location: location\n  });\n};\n\nvar getBreadcrumbMatch = function getBreadcrumbMatch(_ref3) {\n  var currentSection = _ref3.currentSection,\n      disableDefaults = _ref3.disableDefaults,\n      excludePaths = _ref3.excludePaths,\n      defaultFormatter = _ref3.defaultFormatter,\n      location = _ref3.location,\n      pathSection = _ref3.pathSection,\n      branches = _ref3.branches;\n  var breadcrumb;\n\n  var getIsPathExcluded = function getIsPathExcluded(path) {\n    return matchPath({\n      path: path,\n      end: true\n    }, pathSection) != null;\n  };\n\n  if (excludePaths && excludePaths.some(getIsPathExcluded)) {\n    return NO_BREADCRUMB;\n  }\n\n  branches.some(function (_ref4) {\n    var path = _ref4.path,\n        routesMeta = _ref4.routesMeta;\n    var route = routesMeta[routesMeta.length - 1].route;\n    var userProvidedBreadcrumb = route.breadcrumb;\n\n    if (!userProvidedBreadcrumb && route.index) {\n      var parentMeta = routesMeta[routesMeta.length - 2];\n\n      if (parentMeta && parentMeta.route.breadcrumb) {\n        userProvidedBreadcrumb = parentMeta.route.breadcrumb;\n      }\n    }\n\n    var caseSensitive = route.caseSensitive,\n        props = route.props;\n    var match = matchPath({\n      path: path,\n      end: true,\n      caseSensitive: caseSensitive\n    }, pathSection);\n\n    if (match && userProvidedBreadcrumb === null) {\n      breadcrumb = NO_BREADCRUMB;\n      return true;\n    }\n\n    if (match) {\n      if (!userProvidedBreadcrumb && disableDefaults) {\n        breadcrumb = NO_BREADCRUMB;\n        return true;\n      }\n\n      breadcrumb = render({\n        breadcrumb: userProvidedBreadcrumb || (defaultFormatter ? defaultFormatter(currentSection) : humanize(currentSection)),\n        match: Object.assign(Object.assign({}, match), {\n          route: route\n        }),\n        location: location,\n        props: props\n      });\n      return true;\n    }\n\n    return false;\n  });\n\n  if (breadcrumb) {\n    return breadcrumb;\n  }\n\n  if (disableDefaults) {\n    return NO_BREADCRUMB;\n  }\n\n  return getDefaultBreadcrumb({\n    pathSection: pathSection,\n    currentSection: pathSection === '/' ? 'Home' : currentSection,\n    location: location,\n    defaultFormatter: defaultFormatter\n  });\n};\n\nvar getBreadcrumbs = function getBreadcrumbs(_ref5) {\n  var routes = _ref5.routes,\n      location = _ref5.location,\n      _ref5$options = _ref5.options,\n      options = _ref5$options === void 0 ? {} : _ref5$options;\n  var pathname = location.pathname;\n  var branches = rankRouteBranches(flattenRoutes(routes));\n  var breadcrumbs = [];\n  pathname.split('?')[0].split('/').reduce(function (previousSection, currentSection, index) {\n    var pathSection = !currentSection ? '/' : \"\".concat(previousSection, \"/\").concat(currentSection);\n\n    if (pathSection === '/' && index !== 0) {\n      return '';\n    }\n\n    var breadcrumb = getBreadcrumbMatch(Object.assign({\n      currentSection: currentSection,\n      location: location,\n      pathSection: pathSection,\n      branches: branches\n    }, options));\n\n    if (breadcrumb !== NO_BREADCRUMB) {\n      breadcrumbs.push(breadcrumb);\n    }\n\n    return pathSection === '/' ? '' : pathSection;\n  }, '');\n  return breadcrumbs;\n};\n\nvar useReactRouterBreadcrumbs = function useReactRouterBreadcrumbs(routes, options) {\n  return getBreadcrumbs({\n    routes: routes || [],\n    location: useLocation(),\n    options: options\n  });\n};\n\nexport default useReactRouterBreadcrumbs;\nexport { getBreadcrumbs, humanize };\n"]},"metadata":{},"sourceType":"module"}