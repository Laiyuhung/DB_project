{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\laiyu\\\\Documents\\\\bookshop\\\\bookshop-react-master\\\\webshop-app\\\\src\\\\pages\\\\ProfilePage.js\",\n    _s = $RefreshSig$();\n\nimport FooterComponent from \"../components/FooterComponent\";\nimport NavbarComponent from \"../components/NavbarComponent\";\nimport EditProfileModal from \"../components/EditProfileModal\";\nimport { useState, useEffect } from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport \"../css/ProfilePage.css\";\nimport { BASE_URL } from \"../Constants\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction ProfilePage() {\n  _s();\n\n  const [modalShow, setModalShow] = useState(false);\n  const [user, setUser] = useState(null);\n  const [cartItemsNumber, setCartItemsNumber] = useState(0);\n  let logged_in = false;\n  let user_id = localStorage.getItem(\"user_id\");\n\n  if (user_id) {\n    logged_in = true;\n  }\n\n  useEffect(() => {\n    if (user_id && logged_in) {\n      getProfile();\n    }\n\n    const cartItems = JSON.parse(localStorage.getItem(\"items\"));\n    let counter = 0;\n\n    if (cartItems) {\n      for (let i = 0; i < cartItems.length; i++) {\n        counter = counter + cartItems[i].quantity;\n      }\n\n      setCartItemsNumber(counter);\n    }\n  }, []);\n\n  const getProfile = () => {\n    fetch(`${BASE_URL}/users/${user_id}`).then(response => response.json()).then(data => {\n      setUser(data);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(NavbarComponent, {\n      cartItemsNumber: cartItemsNumber\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container d-flex flex-column align-items-center mt-5 pt-5\",\n        id: \"container\",\n        children: logged_in && user ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"main-title\",\n            children: /*#__PURE__*/_jsxDEV(\"u\", {\n              children: \"Your Profile\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"dl\", {\n            className: \"profile mt-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Name: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n              children: user.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"dt\", {\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Email: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n              children: user.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 33\n            }, this), user.address.street ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Address: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 69,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                children: [user.address.street + \" street\", \",\", \" \", user.address.suite, \",\", user.address.zipcode, \",\", \" \", user.address.city]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Address: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 81,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                children: \"You didn't saved an address yet.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true), user.phone ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Phone number: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 91,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                children: user.phone\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Phone number: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 98,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                children: \"You didn't saved a phone number yet.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outline-danger\",\n            onClick: () => setModalShow(true),\n            children: \"Edit Profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(EditProfileModal, {\n            id: user_id,\n            name: user.name,\n            username: user.username,\n            email: user.email,\n            password: user.password,\n            role: user.role,\n            street: user.address.street,\n            suite: user.address.suite,\n            city: user.address.city,\n            zipcode: user.address.zipcode,\n            phone: user.phone,\n            show: modalShow,\n            onHide: () => setModalShow(false),\n            getProfile: getProfile\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"main-title\",\n            children: \"You are not logged in.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/auth/login\",\n            children: \"Go to Login page\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-footer\",\n        children: /*#__PURE__*/_jsxDEV(FooterComponent, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true);\n}\n\n_s(ProfilePage, \"XlWvGWVPM5Lf/VgJkEpoX5v2ShE=\");\n\n_c = ProfilePage;\nexport default ProfilePage;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProfilePage\");","map":{"version":3,"sources":["C:/Users/laiyu/Documents/bookshop/bookshop-react-master/webshop-app/src/pages/ProfilePage.js"],"names":["FooterComponent","NavbarComponent","EditProfileModal","useState","useEffect","Button","BASE_URL","ProfilePage","modalShow","setModalShow","user","setUser","cartItemsNumber","setCartItemsNumber","logged_in","user_id","localStorage","getItem","getProfile","cartItems","JSON","parse","counter","i","length","quantity","fetch","then","response","json","data","name","email","address","street","suite","zipcode","city","phone","username","password","role"],"mappings":"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","sourcesContent":["import FooterComponent from \"../components/FooterComponent\";\r\nimport NavbarComponent from \"../components/NavbarComponent\";\r\nimport EditProfileModal from \"../components/EditProfileModal\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport \"../css/ProfilePage.css\";\r\nimport { BASE_URL } from \"../Constants\";\r\n\r\nfunction ProfilePage() {\r\n    const [modalShow, setModalShow] = useState(false);\r\n    const [user, setUser] = useState(null);\r\n    const [cartItemsNumber, setCartItemsNumber] = useState(0);\r\n\r\n    let logged_in = false;\r\n    let user_id = localStorage.getItem(\"user_id\");\r\n\r\n    if (user_id) {\r\n        logged_in = true;\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (user_id && logged_in) {\r\n            getProfile();\r\n        }\r\n\r\n        const cartItems = JSON.parse(localStorage.getItem(\"items\"));\r\n        let counter = 0;\r\n        if (cartItems) {\r\n            for (let i = 0; i < cartItems.length; i++) {\r\n                counter = counter + cartItems[i].quantity;\r\n            }\r\n            setCartItemsNumber(counter);\r\n        }\r\n    }, []);\r\n\r\n    const getProfile = () => {\r\n        fetch(`${BASE_URL}/users/${user_id}`)\r\n            .then((response) => response.json())\r\n            .then((data) => {\r\n                setUser(data);\r\n            });\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <NavbarComponent cartItemsNumber={cartItemsNumber} />\r\n            <>\r\n                <div\r\n                    className=\"container d-flex flex-column align-items-center mt-5 pt-5\"\r\n                    id=\"container\"\r\n                >\r\n                    {logged_in && user ? (\r\n                        <>\r\n                            <h3 className=\"main-title\">\r\n                                <u>Your Profile</u>\r\n                            </h3>\r\n                            <dl className=\"profile mt-3\">\r\n                                <dt>\r\n                                    <strong>Name: </strong>\r\n                                </dt>\r\n                                <dd>{user.name}</dd>\r\n                                <dt>\r\n                                    <strong>Email: </strong>\r\n                                </dt>\r\n                                <dd>{user.email}</dd>\r\n                                {user.address.street ? (\r\n                                    <>\r\n                                        <dt>\r\n                                            <strong>Address: </strong>\r\n                                        </dt>\r\n                                        <dd>\r\n                                            {user.address.street + \" street\"},{\" \"}\r\n                                            {user.address.suite},\r\n                                            {user.address.zipcode},{\" \"}\r\n                                            {user.address.city}\r\n                                        </dd>\r\n                                    </>\r\n                                ) : (\r\n                                    <>\r\n                                        <dt>\r\n                                            <strong>Address: </strong>\r\n                                        </dt>\r\n                                        <dd>\r\n                                            You didn't saved an address yet.\r\n                                        </dd>\r\n                                    </>\r\n                                )}\r\n                                {user.phone ? (\r\n                                    <>\r\n                                        <dt>\r\n                                            <strong>Phone number: </strong>\r\n                                        </dt>\r\n                                        <dd>{user.phone}</dd>\r\n                                    </>\r\n                                ) : (\r\n                                    <>\r\n                                        <dt>\r\n                                            <strong>Phone number: </strong>\r\n                                        </dt>\r\n                                        <dd>\r\n                                            You didn't saved a phone number yet.\r\n                                        </dd>\r\n                                    </>\r\n                                )}\r\n                            </dl>\r\n\r\n                            <Button\r\n                                variant=\"outline-danger\"\r\n                                onClick={() => setModalShow(true)}\r\n                            >\r\n                                Edit Profile\r\n                            </Button>\r\n                            <EditProfileModal\r\n                                id={user_id}\r\n                                name={user.name}\r\n                                username={user.username}\r\n                                email={user.email}\r\n                                password={user.password}\r\n                                role={user.role}\r\n                                street={user.address.street}\r\n                                suite={user.address.suite}\r\n                                city={user.address.city}\r\n                                zipcode={user.address.zipcode}\r\n                                phone={user.phone}\r\n                                show={modalShow}\r\n                                onHide={() => setModalShow(false)}\r\n                                getProfile={getProfile}\r\n                            />\r\n                        </>\r\n                    ) : (\r\n                        <>\r\n                            <h3 className=\"main-title\">\r\n                                You are not logged in.\r\n                            </h3>\r\n                            <a href=\"/auth/login\">Go to Login page</a>\r\n                        </>\r\n                    )}\r\n                </div>\r\n                <div className=\"profile-footer\">\r\n                    <FooterComponent />\r\n                </div>\r\n            </>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default ProfilePage;\r\n"]},"metadata":{},"sourceType":"module"}